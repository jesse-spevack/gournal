<%
# Navigation Button Partial
# 
# Usage:
#   render 'shared/navigation_button', text: '<', url: root_path
#   render 'shared/navigation_button', text: '(?)', url: '/help'

text = local_assigns[:text] || 'Button'
type = local_assigns[:type] || 'button' 
disabled = local_assigns[:disabled] || false
url = local_assigns[:url]
variant = local_assigns[:variant] || 'nav'

# Determine which navigation variant to use
css_variant = variant == 'help' ? 'canonical-button--help' : 'canonical-button--nav'

# Build HTML attributes
html_attrs = local_assigns.except(:text, :type, :disabled, :url, :variant)
html_attrs[:class] = [html_attrs[:class], 'canonical-button', css_variant].flatten.compact.join(' ')
html_attrs[:disabled] = true if disabled && !url
%>

<% if url %>
  <%= link_to text, url, html_attrs %>
<% else %>
  <%= button_tag text, html_attrs.merge(type: type, disabled: disabled) %>
<% end %>